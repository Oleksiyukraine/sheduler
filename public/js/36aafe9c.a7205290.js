(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["36aafe9c"],{"5f26":function(t,e,s){"use strict";var a=s("ef2d"),i=s.n(a);i.a},"78d5":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-wrapper"},["board"===t.$route.name?s("q-btn",{directives:[{name:"go-back",rawName:"v-go-back",value:"/",expression:" '/' "}],attrs:{color:"secondary",icon:"arrow_left",outline:"",dense:"",label:t.$t("back")}}):t._e(),s("div",{staticClass:"header-title"},[t._v(t._s(t.text))])],1)},i=[],o={name:"HeadTitle",props:["text"]},n=o,r=(s("fa5a"),s("2877")),l=s("fe09"),c=Object(r["a"])(n,a,i,!1,null,"04a0354d",null);e["a"]=c.exports;c.options.components=Object.assign({QBtn:l["d"]},c.options.components||{}),c.options.directives=Object.assign({GoBack:l["b"]},c.options.directives||{})},7953:function(t,e,s){},"7ef1":function(t,e,s){"use strict";var a=s("e78e"),i=s.n(a);i.a},bc13:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.$store.state.account.authenticated?s("q-page",{staticClass:"flex column"},[s("HeaderTitle",{attrs:{text:t.$t("homePage")}}),s("body",{staticClass:"body"},[s("div",{staticClass:"add-board",on:{click:function(e){e.stopPropagation(),t.prompt=!t.prompt}}},[s("q-icon",{attrs:{name:"exposure_plus_1"}}),s("strong",[t._v(t._s(t.$t("addBoard")))])],1),s("Boards",{attrs:{boards:t.boards}})],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[s("q-card",{staticStyle:{"min-width":"350px"}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("\n          "+t._s(t.$t("enterBoardTitle"))+"\n        ")])]),s("q-card-section",[s("form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit()},reset:function(e){return e.preventDefault(),e.stopPropagation(),t.onReset(e)}}},[s("q-input",{ref:"title",staticClass:"q-mb-lg",attrs:{dense:"",label:t.$t("enterBoardTitle"),autofocus:"","lazy-rules":"",value:"",counter:"",rules:[t.rules.required,t.rules.lengthTitle]},model:{value:t.newBoard.title,callback:function(e){t.$set(t.newBoard,"title",e)},expression:"newBoard.title"}}),s("q-input",{ref:"desc",attrs:{dense:"",label:t.$t("enterBoardDesc"),"lazy-rules":"",value:"",counter:"",filled:"",type:"textarea",rules:[t.rules.required,t.rules.lengthDesc]},model:{value:t.newBoard.desc,callback:function(e){t.$set(t.newBoard,"desc",e)},expression:"newBoard.desc"}}),s("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",type:"reset",label:t.$t("cancel")}}),s("q-btn",{attrs:{flat:"",type:"submit",label:t.$t("addBoard")}})],1)],1)])],1)],1)],1):t._e()},i=[],o=s("78d5"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"boards-wrapper"},[t._l(t.boards,(function(e,a){return s("q-list",{key:a,staticClass:"boards-list"},[s("q-card",{staticClass:"my-card",attrs:{bordered:""},on:{click:function(s){return s.stopPropagation(),t.redirectTo(e)}}},[s("q-card-section",{staticClass:"flex justify-between row"},[s("div",{staticClass:"text-h6"},[t._v("\n          "+t._s(e.title)+"\n        ")]),s("div",{staticClass:"flex"},[s("div",{on:{click:function(e){return e.stopPropagation(),t.editBoard(a)}}},[s("q-icon",{attrs:{name:"create",color:"secondary",size:"24px"}})],1),s("div",{on:{click:function(s){return s.stopPropagation(),t.deleteBoardAsk(e)}}},[s("q-icon",{attrs:{name:"delete",color:"warning",size:"24px"}})],1)])]),s("q-separator",{attrs:{inset:""}}),s("q-card-section",[s("div",{staticClass:"text-subtitle2"},[t._v("\n          "+t._s(e.desc)+"\n        ")])])],1)],1)})),t.editDialog?s("q-dialog",{attrs:{persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[s("q-card",{staticStyle:{"min-width":"350px"}},[s("q-card-section",[s("div",{staticClass:"text-subtitle1"},[t._v("\n          "+t._s(t.$t("editBoard"))+":"+t._s(t.boards[t.editIndex].title)+"\n        ")])]),s("q-card-section",[s("form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit()}}},[s("q-input",{ref:"title",staticClass:"q-mb-lg",attrs:{dense:"",label:t.$t("enterBoardTitle"),autofocus:"","lazy-rules":"",value:"",counter:"",rules:[t.rules.required,t.rules.lengthTitle]},model:{value:t.boards[t.editIndex].title,callback:function(e){t.$set(t.boards[t.editIndex],"title",e)},expression:"boards[editIndex].title"}}),s("q-input",{ref:"desc",attrs:{dense:"",label:t.$t("enterBoardDesc"),"lazy-rules":"",value:"",counter:"",filled:"",type:"textarea",rules:[t.rules.required,t.rules.lengthDesc]},model:{value:t.boards[t.editIndex].desc,callback:function(e){t.$set(t.boards[t.editIndex],"desc",e)},expression:"boards[editIndex].desc"}}),s("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",type:"reset",label:t.$t("cancel")}}),s("q-btn",{attrs:{flat:"",type:"submit",label:t.$t("editBoard")}})],1)],1)])],1)],1):t._e(),s("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.deleteAsk,callback:function(e){t.deleteAsk=e},expression:"deleteAsk"}},[s("q-card",{staticClass:"bg-primary text-white"},[s("q-card-section",[s("div",{staticClass:"text-h6 text-center"},[t._v("\n          "+t._s(t.$t("confirmDel"))+"\n        ")])]),s("q-card-section",{staticClass:"flex justify-around"},[s("q-btn",{staticClass:"q-mr-md",attrs:{label:t.$t("yes"),color:"red"},on:{click:t.deleteBoard}}),s("q-btn",{attrs:{label:t.$t("nope"),color:"secondary"},on:{click:function(e){t.deleteAsk=!1,t.boardToDel=null}}})],1)],1)],1)],2)},r=[],l=s("fc1b"),c={name:"Boards",props:["boards"],data:function(){var t=this;return{boardToDel:null,deleteAsk:!1,editIndex:null,editDialog:!1,formHasError:!1,rules:{lengthTitle:function(e){return e.length<15||"".concat(t.$t("charLimit"))},lengthDesc:function(e){return e.length<50||"".concat(t.$t("charLimit"))},required:function(e){return!!e||t.$t("notEmptyField")}}}},methods:{redirectTo:function(t){this.$router.push({path:"/board/".concat(t.id)})},editBoard:function(t){this.editIndex=t,this.editDialog=!0},onSubmit:function(){var t=this;if(this.$q.loading.show(),this.$refs.title.validate(),this.$refs.desc.validate(),this.$refs.title.hasError||this.$refs.desc.hasError)this.formHasError=!0,this.$q.loading.hide(),this.$q.notify({color:"warning",message:this.$t("validationsError")});else{var e=this.boards[this.editIndex];l["b"].collection("board").doc(e.id).set(e).then((function(){t.$q.loading.hide(),t.editDialog=!1})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"warning",message:e})}))}},deleteBoardAsk:function(t){this.deleteAsk=!0,this.boardToDel=t.id},deleteBoard:function(){var t=this;this.$q.loading.show(),l["b"].collection("board").doc(this.boardToDel).delete().then((function(e){t.$q.loading.hide(),t.deleteAsk=!1,t.boardToDel=null,t.$q.notify({color:"positive",message:t.$t("success")})})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"warning",message:e})}))}}},d=c,u=(s("7ef1"),s("2877")),p=s("fe09"),f=Object(u["a"])(d,n,r,!1,null,"3057f6fa",null),h=f.exports;f.options.components=Object.assign({QList:p["s"],QCard:p["e"],QCardSection:p["g"],QIcon:p["l"],QSeparator:p["w"],QDialog:p["i"],QInput:p["n"],QCardActions:p["f"],QBtn:p["d"]},f.options.components||{}),f.options.directives=Object.assign({ClosePopup:p["a"]},f.options.directives||{});var b={name:"PageIndex",components:{HeaderTitle:o["a"],Boards:h},data:function(){var t=this;return{prompt:!1,newBoard:{title:"",desc:"",uid:this.$store.state.account.user.id,createdAt:new Date},rules:{lengthTitle:function(e){return e.length<10||"".concat(t.$t("charLimit"))},lengthDesc:function(e){return e.length<50||"".concat(t.$t("charLimit"))},required:function(e){return!!e||t.$t("notEmptyField")}},formHasError:!1,boards:[]}},created:function(){this.$store.state.account.authenticated?this.$bind("boards",l["b"].collection("board").where("uid","==",this.$store.state.account.user.id)):this.$router.push("/login")},methods:{onReset:function(){this.newBoard.title="",this.newBoard.desc="",this.$refs.title.resetValidation(),this.$refs.desc.resetValidation()},onSubmit:function(){var t=this;this.$q.loading.show(),this.$refs.title.validate(),this.$refs.desc.validate(),this.$refs.title.hasError||this.$refs.desc.hasError?(this.formHasError=!0,this.$q.loading.hide(),this.$q.notify({color:"warning",message:this.$t("validationsError")})):(this.newBoard.createdAt=new Date,console.log("before",this.newBoard),l["b"].collection("board").add(this.newBoard).then((function(){console.log("then",t.newBoard),t.$q.loading.hide(),t.prompt=!1,t.newBoard.title="",t.newBoard.desc=""})).catch((function(e){t.$q.loading.hide(),t.$q.notify({color:"warning",message:e})})))}}},g=b,m=(s("5f26"),Object(u["a"])(g,a,i,!1,null,"5459464a",null));e["default"]=m.exports;m.options.components=Object.assign({QPage:p["t"],QIcon:p["l"],QDialog:p["i"],QCard:p["e"],QCardSection:p["g"],QInput:p["n"],QCardActions:p["f"],QBtn:p["d"]},m.options.components||{}),m.options.directives=Object.assign({ClosePopup:p["a"]},m.options.directives||{})},e78e:function(t,e,s){},ef2d:function(t,e,s){},fa5a:function(t,e,s){"use strict";var a=s("7953"),i=s.n(a);i.a}}]);